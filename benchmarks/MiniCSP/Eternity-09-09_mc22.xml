<instance format="XCSP3" type="CSP">
  <variables>
    <array id="x" note="x[i][j] is the index of the piece at row i and column j" size="[9][9]"> 0..80 </array>
    <array id="t" note="t[i][j] is the value at the top of the piece at row i and column j" size="[10][9]"> 0..13 </array>
    <array id="l" note="l[i][j] is the value at the left of the piece at row i and column j" size="[9][10]"> 0..13 </array>
  </variables>
  <constraints>
    <allDifferent note="all pieces must be placed (only once)"> x[][] </allDifferent>
    <group note="all pieces must be valid (i.e., must correspond to those given initially, possibly after applying some rotation)">
      <extension>
        <list> %... </list>
        <supports> (0,0,0,1,1)(0,0,1,1,0)(0,1,0,0,1)(0,1,1,0,0)(1,0,0,1,4)(1,0,1,4,0)(1,1,4,0,0)(1,4,0,0,1)(2,0,0,2,1)(2,0,2,1,0)(2,1,0,0,2)(2,2,1,0,0)(3,0,0,2,2)(3,0,2,2,0)(3,2,0,0,2)(3,2,2,0,0)(4,0,1,7,4)(4,1,7,4,0)(4,4,0,1,7)(4,7,4,0,1)(5,0,1,8,1)(5,1,0,1,8)(5,1,8,1,0)(5,8,1,0,1)(6,0,1,9,2)(6,1,9,2,0)(6,2,0,1,9)(6,9,2,0,1)(7,0,1,10,2)(7,1,10,2,0)(7,2,0,1,10)(7,10,2,0,1)(8,0,1,10,3)(8,1,10,3,0)(8,3,0,1,10)(8,10,3,0,1)(9,0,1,10,4)(9,1,10,4,0)(9,4,0,1,10)(9,10,4,0,1)(10,0,2,5,4)(10,2,5,4,0)(10,4,0,2,5)(10,5,4,0,2)(11,0,2,7,3)(11,2,7,3,0)(11,3,0,2,7)(11,7,3,0,2)(12,0,2,9,2)(12,2,0,2,9)(12,2,9,2,0)(12,9,2,0,2)(13,0,2,12,2)(13,2,0,2,12)(13,2,12,2,0)(13,12,2,0,2)(14,0,2,13,1)(14,1,0,2,13)(14,2,13,1,0)(14,13,1,0,2)(15,0,2,13,4)(15,2,13,4,0)(15,4,0,2,13)(15,13,4,0,2)(16,0,3,5,2)(16,2,0,3,5)(16,3,5,2,0)(16,5,2,0,3)(17,0,3,7,2)(17,2,0,3,7)(17,3,7,2,0)(17,7,2,0,3)(18,0,3,7,3)(18,3,0,3,7)(18,3,7,3,0)(18,7,3,0,3)(19,0,3,8,3)(19,3,0,3,8)(19,3,8,3,0)(19,8,3,0,3)(20,0,3,9,3)(20,3,0,3,9)(20,3,9,3,0)(20,9,3,0,3)(21,0,3,11,1)(21,1,0,3,11)(21,3,11,1,0)(21,11,1,0,3)(22,0,3,11,2)(22,2,0,3,11)(22,3,11,2,0)(22,11,2,0,3)(23,0,3,13,3)(23,3,0,3,13)(23,3,13,3,0)(23,13,3,0,3)(24,0,4,5,1)(24,1,0,4,5)(24,4,5,1,0)(24,5,1,0,4)(25,0,4,5,4)(25,4,0,4,5)(25,4,5,4,0)(25,5,4,0,4)(26,0,4,6,4)(26,4,0,4,6)(26,4,6,4,0)(26,6,4,0,4)(27,0,4,8,3)(27,3,0,4,8)(27,4,8,3,0)(27,8,3,0,4)(28,0,4,11,1)(28,1,0,4,11)(28,4,11,1,0)(28,11,1,0,4)(29,0,4,12,1)(29,1,0,4,12)(29,4,12,1,0)(29,12,1,0,4)(30,0,4,12,3)(30,3,0,4,12)(30,4,12,3,0)(30,12,3,0,4)(31,0,4,13,4)(31,4,0,4,13)(31,4,13,4,0)(31,13,4,0,4)(32,5,5,12,8)(32,5,12,8,5)(32,8,5,5,12)(32,12,8,5,5)(33,5,6,5,9)(33,5,9,5,6)(33,6,5,9,5)(33,9,5,6,5)(34,5,6,8,8)(34,6,8,8,5)(34,8,5,6,8)(34,8,8,5,6)(35,5,6,9,7)(35,6,9,7,5)(35,7,5,6,9)(35,9,7,5,6)(36,5,6,13,8)(36,6,13,8,5)(36,8,5,6,13)(36,13,8,5,6)(37,5,7,6,8)(37,6,8,5,7)(37,7,6,8,5)(37,8,5,7,6)(38,5,7,8,11)(38,7,8,11,5)(38,8,11,5,7)(38,11,5,7,8)(39,5,7,11,12)(39,7,11,12,5)(39,11,12,5,7)(39,12,5,7,11)(40,5,7,13,11)(40,7,13,11,5)(40,11,5,7,13)(40,13,11,5,7)(41,5,8,6,7)(41,6,7,5,8)(41,7,5,8,6)(41,8,6,7,5)(42,5,8,8,8)(42,8,5,8,8)(42,8,8,5,8)(42,8,8,8,5)(43,5,8,10,8)(43,8,5,8,10)(43,8,10,8,5)(43,10,8,5,8)(44,5,9,10,6)(44,6,5,9,10)(44,9,10,6,5)(44,10,6,5,9)(45,5,10,9,9)(45,9,5,10,9)(45,9,9,5,10)(45,10,9,9,5)(46,5,11,5,13)(46,5,13,5,11)(46,11,5,13,5)(46,13,5,11,5)(47,5,11,11,10)(47,10,5,11,11)(47,11,10,5,11)(47,11,11,10,5)(48,5,12,6,10)(48,6,10,5,12)(48,10,5,12,6)(48,12,6,10,5)(49,5,12,10,11)(49,10,11,5,12)(49,11,5,12,10)(49,12,10,11,5)(50,5,12,12,8)(50,8,5,12,12)(50,12,8,5,12)(50,12,12,8,5)(51,6,6,8,12)(51,6,8,12,6)(51,8,12,6,6)(51,12,6,6,8)(52,6,7,6,9)(52,6,9,6,7)(52,7,6,9,6)(52,9,6,7,6)(53,6,7,10,13)(53,7,10,13,6)(53,10,13,6,7)(53,13,6,7,10)(54,6,8,10,8)(54,8,6,8,10)(54,8,10,8,6)(54,10,8,6,8)(55,6,8,13,7)(55,7,6,8,13)(55,8,13,7,6)(55,13,7,6,8)(56,6,9,9,8)(56,8,6,9,9)(56,9,8,6,9)(56,9,9,8,6)(57,6,9,9,9)(57,9,6,9,9)(57,9,9,6,9)(57,9,9,9,6)(58,6,9,11,7)(58,7,6,9,11)(58,9,11,7,6)(58,11,7,6,9)(59,6,10,8,10)(59,8,10,6,10)(59,10,6,10,8)(59,10,8,10,6)(60,6,10,12,12)(60,10,12,12,6)(60,12,6,10,12)(60,12,12,6,10)(61,6,10,13,11)(61,10,13,11,6)(61,11,6,10,13)(61,13,11,6,10)(62,6,11,7,12)(62,7,12,6,11)(62,11,7,12,6)(62,12,6,11,7)(63,6,11,11,13)(63,11,11,13,6)(63,11,13,6,11)(63,13,6,11,11)(64,6,11,13,12)(64,11,13,12,6)(64,12,6,11,13)(64,13,12,6,11)(65,6,12,9,10)(65,9,10,6,12)(65,10,6,12,9)(65,12,9,10,6)(66,7,7,11,11)(66,7,11,11,7)(66,11,7,7,11)(66,11,11,7,7)(67,7,7,12,9)(67,7,12,9,7)(67,9,7,7,12)(67,12,9,7,7)(68,7,7,13,12)(68,7,13,12,7)(68,12,7,7,13)(68,13,12,7,7)(69,7,9,11,13)(69,9,11,13,7)(69,11,13,7,9)(69,13,7,9,11)(70,7,9,13,9)(70,9,7,9,13)(70,9,13,9,7)(70,13,9,7,9)(71,7,10,12,10)(71,10,7,10,12)(71,10,12,10,7)(71,12,10,7,10)(72,7,12,10,13)(72,10,13,7,12)(72,12,10,13,7)(72,13,7,12,10)(73,7,13,8,13)(73,8,13,7,13)(73,13,7,13,8)(73,13,8,13,7)(74,8,11,12,13)(74,11,12,13,8)(74,12,13,8,11)(74,13,8,11,12)(75,8,12,13,9)(75,9,8,12,13)(75,12,13,9,8)(75,13,9,8,12)(76,8,13,11,10)(76,10,8,13,11)(76,11,10,8,13)(76,13,11,10,8)(77,9,9,10,13)(77,9,10,13,9)(77,10,13,9,9)(77,13,9,9,10)(78,9,10,10,11)(78,10,10,11,9)(78,10,11,9,10)(78,11,9,10,10)(79,10,11,12,12)(79,11,12,12,10)(79,12,10,11,12)(79,12,12,10,11)(80,11,12,13,13)(80,12,13,13,11)(80,13,11,12,13)(80,13,13,11,12) </supports>
      </extension>
      <args> x[0][0] t[0][0] l[0][1] t[1][0] l[0][0] </args>
      <args> x[0][1] t[0][1] l[0][2] t[1][1] l[0][1] </args>
      <args> x[0][2] t[0][2] l[0][3] t[1][2] l[0][2] </args>
      <args> x[0][3] t[0][3] l[0][4] t[1][3] l[0][3] </args>
      <args> x[0][4] t[0][4] l[0][5] t[1][4] l[0][4] </args>
      <args> x[0][5] t[0][5] l[0][6] t[1][5] l[0][5] </args>
      <args> x[0][6] t[0][6] l[0][7] t[1][6] l[0][6] </args>
      <args> x[0][7] t[0][7] l[0][8] t[1][7] l[0][7] </args>
      <args> x[0][8] t[0][8] l[0][9] t[1][8] l[0][8] </args>
      <args> x[1][0] t[1][0] l[1][1] t[2][0] l[1][0] </args>
      <args> x[1][1] t[1][1] l[1][2] t[2][1] l[1][1] </args>
      <args> x[1][2] t[1][2] l[1][3] t[2][2] l[1][2] </args>
      <args> x[1][3] t[1][3] l[1][4] t[2][3] l[1][3] </args>
      <args> x[1][4] t[1][4] l[1][5] t[2][4] l[1][4] </args>
      <args> x[1][5] t[1][5] l[1][6] t[2][5] l[1][5] </args>
      <args> x[1][6] t[1][6] l[1][7] t[2][6] l[1][6] </args>
      <args> x[1][7] t[1][7] l[1][8] t[2][7] l[1][7] </args>
      <args> x[1][8] t[1][8] l[1][9] t[2][8] l[1][8] </args>
      <args> x[2][0] t[2][0] l[2][1] t[3][0] l[2][0] </args>
      <args> x[2][1] t[2][1] l[2][2] t[3][1] l[2][1] </args>
      <args> x[2][2] t[2][2] l[2][3] t[3][2] l[2][2] </args>
      <args> x[2][3] t[2][3] l[2][4] t[3][3] l[2][3] </args>
      <args> x[2][4] t[2][4] l[2][5] t[3][4] l[2][4] </args>
      <args> x[2][5] t[2][5] l[2][6] t[3][5] l[2][5] </args>
      <args> x[2][6] t[2][6] l[2][7] t[3][6] l[2][6] </args>
      <args> x[2][7] t[2][7] l[2][8] t[3][7] l[2][7] </args>
      <args> x[2][8] t[2][8] l[2][9] t[3][8] l[2][8] </args>
      <args> x[3][0] t[3][0] l[3][1] t[4][0] l[3][0] </args>
      <args> x[3][1] t[3][1] l[3][2] t[4][1] l[3][1] </args>
      <args> x[3][2] t[3][2] l[3][3] t[4][2] l[3][2] </args>
      <args> x[3][3] t[3][3] l[3][4] t[4][3] l[3][3] </args>
      <args> x[3][4] t[3][4] l[3][5] t[4][4] l[3][4] </args>
      <args> x[3][5] t[3][5] l[3][6] t[4][5] l[3][5] </args>
      <args> x[3][6] t[3][6] l[3][7] t[4][6] l[3][6] </args>
      <args> x[3][7] t[3][7] l[3][8] t[4][7] l[3][7] </args>
      <args> x[3][8] t[3][8] l[3][9] t[4][8] l[3][8] </args>
      <args> x[4][0] t[4][0] l[4][1] t[5][0] l[4][0] </args>
      <args> x[4][1] t[4][1] l[4][2] t[5][1] l[4][1] </args>
      <args> x[4][2] t[4][2] l[4][3] t[5][2] l[4][2] </args>
      <args> x[4][3] t[4][3] l[4][4] t[5][3] l[4][3] </args>
      <args> x[4][4] t[4][4] l[4][5] t[5][4] l[4][4] </args>
      <args> x[4][5] t[4][5] l[4][6] t[5][5] l[4][5] </args>
      <args> x[4][6] t[4][6] l[4][7] t[5][6] l[4][6] </args>
      <args> x[4][7] t[4][7] l[4][8] t[5][7] l[4][7] </args>
      <args> x[4][8] t[4][8] l[4][9] t[5][8] l[4][8] </args>
      <args> x[5][0] t[5][0] l[5][1] t[6][0] l[5][0] </args>
      <args> x[5][1] t[5][1] l[5][2] t[6][1] l[5][1] </args>
      <args> x[5][2] t[5][2] l[5][3] t[6][2] l[5][2] </args>
      <args> x[5][3] t[5][3] l[5][4] t[6][3] l[5][3] </args>
      <args> x[5][4] t[5][4] l[5][5] t[6][4] l[5][4] </args>
      <args> x[5][5] t[5][5] l[5][6] t[6][5] l[5][5] </args>
      <args> x[5][6] t[5][6] l[5][7] t[6][6] l[5][6] </args>
      <args> x[5][7] t[5][7] l[5][8] t[6][7] l[5][7] </args>
      <args> x[5][8] t[5][8] l[5][9] t[6][8] l[5][8] </args>
      <args> x[6][0] t[6][0] l[6][1] t[7][0] l[6][0] </args>
      <args> x[6][1] t[6][1] l[6][2] t[7][1] l[6][1] </args>
      <args> x[6][2] t[6][2] l[6][3] t[7][2] l[6][2] </args>
      <args> x[6][3] t[6][3] l[6][4] t[7][3] l[6][3] </args>
      <args> x[6][4] t[6][4] l[6][5] t[7][4] l[6][4] </args>
      <args> x[6][5] t[6][5] l[6][6] t[7][5] l[6][5] </args>
      <args> x[6][6] t[6][6] l[6][7] t[7][6] l[6][6] </args>
      <args> x[6][7] t[6][7] l[6][8] t[7][7] l[6][7] </args>
      <args> x[6][8] t[6][8] l[6][9] t[7][8] l[6][8] </args>
      <args> x[7][0] t[7][0] l[7][1] t[8][0] l[7][0] </args>
      <args> x[7][1] t[7][1] l[7][2] t[8][1] l[7][1] </args>
      <args> x[7][2] t[7][2] l[7][3] t[8][2] l[7][2] </args>
      <args> x[7][3] t[7][3] l[7][4] t[8][3] l[7][3] </args>
      <args> x[7][4] t[7][4] l[7][5] t[8][4] l[7][4] </args>
      <args> x[7][5] t[7][5] l[7][6] t[8][5] l[7][5] </args>
      <args> x[7][6] t[7][6] l[7][7] t[8][6] l[7][6] </args>
      <args> x[7][7] t[7][7] l[7][8] t[8][7] l[7][7] </args>
      <args> x[7][8] t[7][8] l[7][9] t[8][8] l[7][8] </args>
      <args> x[8][0] t[8][0] l[8][1] t[9][0] l[8][0] </args>
      <args> x[8][1] t[8][1] l[8][2] t[9][1] l[8][1] </args>
      <args> x[8][2] t[8][2] l[8][3] t[9][2] l[8][2] </args>
      <args> x[8][3] t[8][3] l[8][4] t[9][3] l[8][3] </args>
      <args> x[8][4] t[8][4] l[8][5] t[9][4] l[8][4] </args>
      <args> x[8][5] t[8][5] l[8][6] t[9][5] l[8][5] </args>
      <args> x[8][6] t[8][6] l[8][7] t[9][6] l[8][6] </args>
      <args> x[8][7] t[8][7] l[8][8] t[9][7] l[8][7] </args>
      <args> x[8][8] t[8][8] l[8][9] t[9][8] l[8][8] </args>
    </group>
    <group note="putting special value 0 on borders">
      <intension> eq(%0,0) </intension>
      <args> t[0][0] </args>
      <args> t[0][1] </args>
      <args> t[0][2] </args>
      <args> t[0][3] </args>
      <args> t[0][4] </args>
      <args> t[0][5] </args>
      <args> t[0][6] </args>
      <args> t[0][7] </args>
      <args> t[0][8] </args>
      <args> l[0][9] </args>
      <args> l[1][9] </args>
      <args> l[2][9] </args>
      <args> l[3][9] </args>
      <args> l[4][9] </args>
      <args> l[5][9] </args>
      <args> l[6][9] </args>
      <args> l[7][9] </args>
      <args> l[8][9] </args>
      <args> t[9][0] </args>
      <args> t[9][1] </args>
      <args> t[9][2] </args>
      <args> t[9][3] </args>
      <args> t[9][4] </args>
      <args> t[9][5] </args>
      <args> t[9][6] </args>
      <args> t[9][7] </args>
      <args> t[9][8] </args>
      <args> l[0][0] </args>
      <args> l[1][0] </args>
      <args> l[2][0] </args>
      <args> l[3][0] </args>
      <args> l[4][0] </args>
      <args> l[5][0] </args>
      <args> l[6][0] </args>
      <args> l[7][0] </args>
      <args> l[8][0] </args>
    </group>
  </constraints>
</instance>
