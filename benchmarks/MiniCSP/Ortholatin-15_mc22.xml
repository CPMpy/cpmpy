<instance format="XCSP3" type="CSP">
  <variables>
    <array id="x" note="x is the first Latin square" size="[15][15]"> 0..14 </array>
    <array id="y" note="y is the second Latin square" size="[15][15]"> 0..14 </array>
    <array id="z" note="z is the matrix used to control orthogonality" size="[225]"> 0..224 </array>
  </variables>
  <constraints>
    <group note="ensuring that x is a Latin square">
      <allDifferent> %... </allDifferent>
      <args> x[0][] </args>
      <args> x[1][] </args>
      <args> x[2][] </args>
      <args> x[3][] </args>
      <args> x[4][] </args>
      <args> x[5][] </args>
      <args> x[6][] </args>
      <args> x[7][] </args>
      <args> x[8][] </args>
      <args> x[9][] </args>
      <args> x[10][] </args>
      <args> x[11][] </args>
      <args> x[12][] </args>
      <args> x[13][] </args>
      <args> x[14][] </args>
      <args> x[][0] </args>
      <args> x[][1] </args>
      <args> x[][2] </args>
      <args> x[][3] </args>
      <args> x[][4] </args>
      <args> x[][5] </args>
      <args> x[][6] </args>
      <args> x[][7] </args>
      <args> x[][8] </args>
      <args> x[][9] </args>
      <args> x[][10] </args>
      <args> x[][11] </args>
      <args> x[][12] </args>
      <args> x[][13] </args>
      <args> x[][14] </args>
    </group>
    <group note="ensuring that y is a Latin square">
      <allDifferent> %... </allDifferent>
      <args> y[0][] </args>
      <args> y[1][] </args>
      <args> y[2][] </args>
      <args> y[3][] </args>
      <args> y[4][] </args>
      <args> y[5][] </args>
      <args> y[6][] </args>
      <args> y[7][] </args>
      <args> y[8][] </args>
      <args> y[9][] </args>
      <args> y[10][] </args>
      <args> y[11][] </args>
      <args> y[12][] </args>
      <args> y[13][] </args>
      <args> y[14][] </args>
      <args> y[][0] </args>
      <args> y[][1] </args>
      <args> y[][2] </args>
      <args> y[][3] </args>
      <args> y[][4] </args>
      <args> y[][5] </args>
      <args> y[][6] </args>
      <args> y[][7] </args>
      <args> y[][8] </args>
      <args> y[][9] </args>
      <args> y[][10] </args>
      <args> y[][11] </args>
      <args> y[][12] </args>
      <args> y[][13] </args>
      <args> y[][14] </args>
    </group>
    <group class="diagonals" note="ensuring that values on diagonals are different">
      <allDifferent> %... </allDifferent>
      <args> x[0][0] x[1][1] x[2][2] x[3][3] x[4][4] x[5][5] x[6][6] x[7][7] x[8][8] x[9][9] x[10][10] x[11][11] x[12][12] x[13][13] x[14][14] </args>
      <args> x[0][14] x[1][13] x[2][12] x[3][11] x[4][10] x[5][9] x[6][8] x[7][7] x[8][6] x[9][5] x[10][4] x[11][3] x[12][2] x[13][1] x[14][0] </args>
      <args> y[0][0] y[1][1] y[2][2] y[3][3] y[4][4] y[5][5] y[6][6] y[7][7] y[8][8] y[9][9] y[10][10] y[11][11] y[12][12] y[13][13] y[14][14] </args>
      <args> y[0][14] y[1][13] y[2][12] y[3][11] y[4][10] y[5][9] y[6][8] y[7][7] y[8][6] y[9][5] y[10][4] y[11][3] y[12][2] y[13][1] y[14][0] </args>
    </group>
    <allDifferent note="ensuring orthogonality of x and y through z"> z[] </allDifferent>
    <group note="computing z from x and y">
      <extension>
        <list> %0 %1 %2 </list>
        <supports> (0,0,0)(0,1,1)(0,2,2)(0,3,3)(0,4,4)(0,5,5)(0,6,6)(0,7,7)(0,8,8)(0,9,9)(0,10,10)(0,11,11)(0,12,12)(0,13,13)(0,14,14)(1,0,15)(1,1,16)(1,2,17)(1,3,18)(1,4,19)(1,5,20)(1,6,21)(1,7,22)(1,8,23)(1,9,24)(1,10,25)(1,11,26)(1,12,27)(1,13,28)(1,14,29)(2,0,30)(2,1,31)(2,2,32)(2,3,33)(2,4,34)(2,5,35)(2,6,36)(2,7,37)(2,8,38)(2,9,39)(2,10,40)(2,11,41)(2,12,42)(2,13,43)(2,14,44)(3,0,45)(3,1,46)(3,2,47)(3,3,48)(3,4,49)(3,5,50)(3,6,51)(3,7,52)(3,8,53)(3,9,54)(3,10,55)(3,11,56)(3,12,57)(3,13,58)(3,14,59)(4,0,60)(4,1,61)(4,2,62)(4,3,63)(4,4,64)(4,5,65)(4,6,66)(4,7,67)(4,8,68)(4,9,69)(4,10,70)(4,11,71)(4,12,72)(4,13,73)(4,14,74)(5,0,75)(5,1,76)(5,2,77)(5,3,78)(5,4,79)(5,5,80)(5,6,81)(5,7,82)(5,8,83)(5,9,84)(5,10,85)(5,11,86)(5,12,87)(5,13,88)(5,14,89)(6,0,90)(6,1,91)(6,2,92)(6,3,93)(6,4,94)(6,5,95)(6,6,96)(6,7,97)(6,8,98)(6,9,99)(6,10,100)(6,11,101)(6,12,102)(6,13,103)(6,14,104)(7,0,105)(7,1,106)(7,2,107)(7,3,108)(7,4,109)(7,5,110)(7,6,111)(7,7,112)(7,8,113)(7,9,114)(7,10,115)(7,11,116)(7,12,117)(7,13,118)(7,14,119)(8,0,120)(8,1,121)(8,2,122)(8,3,123)(8,4,124)(8,5,125)(8,6,126)(8,7,127)(8,8,128)(8,9,129)(8,10,130)(8,11,131)(8,12,132)(8,13,133)(8,14,134)(9,0,135)(9,1,136)(9,2,137)(9,3,138)(9,4,139)(9,5,140)(9,6,141)(9,7,142)(9,8,143)(9,9,144)(9,10,145)(9,11,146)(9,12,147)(9,13,148)(9,14,149)(10,0,150)(10,1,151)(10,2,152)(10,3,153)(10,4,154)(10,5,155)(10,6,156)(10,7,157)(10,8,158)(10,9,159)(10,10,160)(10,11,161)(10,12,162)(10,13,163)(10,14,164)(11,0,165)(11,1,166)(11,2,167)(11,3,168)(11,4,169)(11,5,170)(11,6,171)(11,7,172)(11,8,173)(11,9,174)(11,10,175)(11,11,176)(11,12,177)(11,13,178)(11,14,179)(12,0,180)(12,1,181)(12,2,182)(12,3,183)(12,4,184)(12,5,185)(12,6,186)(12,7,187)(12,8,188)(12,9,189)(12,10,190)(12,11,191)(12,12,192)(12,13,193)(12,14,194)(13,0,195)(13,1,196)(13,2,197)(13,3,198)(13,4,199)(13,5,200)(13,6,201)(13,7,202)(13,8,203)(13,9,204)(13,10,205)(13,11,206)(13,12,207)(13,13,208)(13,14,209)(14,0,210)(14,1,211)(14,2,212)(14,3,213)(14,4,214)(14,5,215)(14,6,216)(14,7,217)(14,8,218)(14,9,219)(14,10,220)(14,11,221)(14,12,222)(14,13,223)(14,14,224) </supports>
      </extension>
      <args> x[0][0] y[0][0] z[0] </args>
      <args> x[0][1] y[0][1] z[1] </args>
      <args> x[0][2] y[0][2] z[2] </args>
      <args> x[0][3] y[0][3] z[3] </args>
      <args> x[0][4] y[0][4] z[4] </args>
      <args> x[0][5] y[0][5] z[5] </args>
      <args> x[0][6] y[0][6] z[6] </args>
      <args> x[0][7] y[0][7] z[7] </args>
      <args> x[0][8] y[0][8] z[8] </args>
      <args> x[0][9] y[0][9] z[9] </args>
      <args> x[0][10] y[0][10] z[10] </args>
      <args> x[0][11] y[0][11] z[11] </args>
      <args> x[0][12] y[0][12] z[12] </args>
      <args> x[0][13] y[0][13] z[13] </args>
      <args> x[0][14] y[0][14] z[14] </args>
      <args> x[1][0] y[1][0] z[15] </args>
      <args> x[1][1] y[1][1] z[16] </args>
      <args> x[1][2] y[1][2] z[17] </args>
      <args> x[1][3] y[1][3] z[18] </args>
      <args> x[1][4] y[1][4] z[19] </args>
      <args> x[1][5] y[1][5] z[20] </args>
      <args> x[1][6] y[1][6] z[21] </args>
      <args> x[1][7] y[1][7] z[22] </args>
      <args> x[1][8] y[1][8] z[23] </args>
      <args> x[1][9] y[1][9] z[24] </args>
      <args> x[1][10] y[1][10] z[25] </args>
      <args> x[1][11] y[1][11] z[26] </args>
      <args> x[1][12] y[1][12] z[27] </args>
      <args> x[1][13] y[1][13] z[28] </args>
      <args> x[1][14] y[1][14] z[29] </args>
      <args> x[2][0] y[2][0] z[30] </args>
      <args> x[2][1] y[2][1] z[31] </args>
      <args> x[2][2] y[2][2] z[32] </args>
      <args> x[2][3] y[2][3] z[33] </args>
      <args> x[2][4] y[2][4] z[34] </args>
      <args> x[2][5] y[2][5] z[35] </args>
      <args> x[2][6] y[2][6] z[36] </args>
      <args> x[2][7] y[2][7] z[37] </args>
      <args> x[2][8] y[2][8] z[38] </args>
      <args> x[2][9] y[2][9] z[39] </args>
      <args> x[2][10] y[2][10] z[40] </args>
      <args> x[2][11] y[2][11] z[41] </args>
      <args> x[2][12] y[2][12] z[42] </args>
      <args> x[2][13] y[2][13] z[43] </args>
      <args> x[2][14] y[2][14] z[44] </args>
      <args> x[3][0] y[3][0] z[45] </args>
      <args> x[3][1] y[3][1] z[46] </args>
      <args> x[3][2] y[3][2] z[47] </args>
      <args> x[3][3] y[3][3] z[48] </args>
      <args> x[3][4] y[3][4] z[49] </args>
      <args> x[3][5] y[3][5] z[50] </args>
      <args> x[3][6] y[3][6] z[51] </args>
      <args> x[3][7] y[3][7] z[52] </args>
      <args> x[3][8] y[3][8] z[53] </args>
      <args> x[3][9] y[3][9] z[54] </args>
      <args> x[3][10] y[3][10] z[55] </args>
      <args> x[3][11] y[3][11] z[56] </args>
      <args> x[3][12] y[3][12] z[57] </args>
      <args> x[3][13] y[3][13] z[58] </args>
      <args> x[3][14] y[3][14] z[59] </args>
      <args> x[4][0] y[4][0] z[60] </args>
      <args> x[4][1] y[4][1] z[61] </args>
      <args> x[4][2] y[4][2] z[62] </args>
      <args> x[4][3] y[4][3] z[63] </args>
      <args> x[4][4] y[4][4] z[64] </args>
      <args> x[4][5] y[4][5] z[65] </args>
      <args> x[4][6] y[4][6] z[66] </args>
      <args> x[4][7] y[4][7] z[67] </args>
      <args> x[4][8] y[4][8] z[68] </args>
      <args> x[4][9] y[4][9] z[69] </args>
      <args> x[4][10] y[4][10] z[70] </args>
      <args> x[4][11] y[4][11] z[71] </args>
      <args> x[4][12] y[4][12] z[72] </args>
      <args> x[4][13] y[4][13] z[73] </args>
      <args> x[4][14] y[4][14] z[74] </args>
      <args> x[5][0] y[5][0] z[75] </args>
      <args> x[5][1] y[5][1] z[76] </args>
      <args> x[5][2] y[5][2] z[77] </args>
      <args> x[5][3] y[5][3] z[78] </args>
      <args> x[5][4] y[5][4] z[79] </args>
      <args> x[5][5] y[5][5] z[80] </args>
      <args> x[5][6] y[5][6] z[81] </args>
      <args> x[5][7] y[5][7] z[82] </args>
      <args> x[5][8] y[5][8] z[83] </args>
      <args> x[5][9] y[5][9] z[84] </args>
      <args> x[5][10] y[5][10] z[85] </args>
      <args> x[5][11] y[5][11] z[86] </args>
      <args> x[5][12] y[5][12] z[87] </args>
      <args> x[5][13] y[5][13] z[88] </args>
      <args> x[5][14] y[5][14] z[89] </args>
      <args> x[6][0] y[6][0] z[90] </args>
      <args> x[6][1] y[6][1] z[91] </args>
      <args> x[6][2] y[6][2] z[92] </args>
      <args> x[6][3] y[6][3] z[93] </args>
      <args> x[6][4] y[6][4] z[94] </args>
      <args> x[6][5] y[6][5] z[95] </args>
      <args> x[6][6] y[6][6] z[96] </args>
      <args> x[6][7] y[6][7] z[97] </args>
      <args> x[6][8] y[6][8] z[98] </args>
      <args> x[6][9] y[6][9] z[99] </args>
      <args> x[6][10] y[6][10] z[100] </args>
      <args> x[6][11] y[6][11] z[101] </args>
      <args> x[6][12] y[6][12] z[102] </args>
      <args> x[6][13] y[6][13] z[103] </args>
      <args> x[6][14] y[6][14] z[104] </args>
      <args> x[7][0] y[7][0] z[105] </args>
      <args> x[7][1] y[7][1] z[106] </args>
      <args> x[7][2] y[7][2] z[107] </args>
      <args> x[7][3] y[7][3] z[108] </args>
      <args> x[7][4] y[7][4] z[109] </args>
      <args> x[7][5] y[7][5] z[110] </args>
      <args> x[7][6] y[7][6] z[111] </args>
      <args> x[7][7] y[7][7] z[112] </args>
      <args> x[7][8] y[7][8] z[113] </args>
      <args> x[7][9] y[7][9] z[114] </args>
      <args> x[7][10] y[7][10] z[115] </args>
      <args> x[7][11] y[7][11] z[116] </args>
      <args> x[7][12] y[7][12] z[117] </args>
      <args> x[7][13] y[7][13] z[118] </args>
      <args> x[7][14] y[7][14] z[119] </args>
      <args> x[8][0] y[8][0] z[120] </args>
      <args> x[8][1] y[8][1] z[121] </args>
      <args> x[8][2] y[8][2] z[122] </args>
      <args> x[8][3] y[8][3] z[123] </args>
      <args> x[8][4] y[8][4] z[124] </args>
      <args> x[8][5] y[8][5] z[125] </args>
      <args> x[8][6] y[8][6] z[126] </args>
      <args> x[8][7] y[8][7] z[127] </args>
      <args> x[8][8] y[8][8] z[128] </args>
      <args> x[8][9] y[8][9] z[129] </args>
      <args> x[8][10] y[8][10] z[130] </args>
      <args> x[8][11] y[8][11] z[131] </args>
      <args> x[8][12] y[8][12] z[132] </args>
      <args> x[8][13] y[8][13] z[133] </args>
      <args> x[8][14] y[8][14] z[134] </args>
      <args> x[9][0] y[9][0] z[135] </args>
      <args> x[9][1] y[9][1] z[136] </args>
      <args> x[9][2] y[9][2] z[137] </args>
      <args> x[9][3] y[9][3] z[138] </args>
      <args> x[9][4] y[9][4] z[139] </args>
      <args> x[9][5] y[9][5] z[140] </args>
      <args> x[9][6] y[9][6] z[141] </args>
      <args> x[9][7] y[9][7] z[142] </args>
      <args> x[9][8] y[9][8] z[143] </args>
      <args> x[9][9] y[9][9] z[144] </args>
      <args> x[9][10] y[9][10] z[145] </args>
      <args> x[9][11] y[9][11] z[146] </args>
      <args> x[9][12] y[9][12] z[147] </args>
      <args> x[9][13] y[9][13] z[148] </args>
      <args> x[9][14] y[9][14] z[149] </args>
      <args> x[10][0] y[10][0] z[150] </args>
      <args> x[10][1] y[10][1] z[151] </args>
      <args> x[10][2] y[10][2] z[152] </args>
      <args> x[10][3] y[10][3] z[153] </args>
      <args> x[10][4] y[10][4] z[154] </args>
      <args> x[10][5] y[10][5] z[155] </args>
      <args> x[10][6] y[10][6] z[156] </args>
      <args> x[10][7] y[10][7] z[157] </args>
      <args> x[10][8] y[10][8] z[158] </args>
      <args> x[10][9] y[10][9] z[159] </args>
      <args> x[10][10] y[10][10] z[160] </args>
      <args> x[10][11] y[10][11] z[161] </args>
      <args> x[10][12] y[10][12] z[162] </args>
      <args> x[10][13] y[10][13] z[163] </args>
      <args> x[10][14] y[10][14] z[164] </args>
      <args> x[11][0] y[11][0] z[165] </args>
      <args> x[11][1] y[11][1] z[166] </args>
      <args> x[11][2] y[11][2] z[167] </args>
      <args> x[11][3] y[11][3] z[168] </args>
      <args> x[11][4] y[11][4] z[169] </args>
      <args> x[11][5] y[11][5] z[170] </args>
      <args> x[11][6] y[11][6] z[171] </args>
      <args> x[11][7] y[11][7] z[172] </args>
      <args> x[11][8] y[11][8] z[173] </args>
      <args> x[11][9] y[11][9] z[174] </args>
      <args> x[11][10] y[11][10] z[175] </args>
      <args> x[11][11] y[11][11] z[176] </args>
      <args> x[11][12] y[11][12] z[177] </args>
      <args> x[11][13] y[11][13] z[178] </args>
      <args> x[11][14] y[11][14] z[179] </args>
      <args> x[12][0] y[12][0] z[180] </args>
      <args> x[12][1] y[12][1] z[181] </args>
      <args> x[12][2] y[12][2] z[182] </args>
      <args> x[12][3] y[12][3] z[183] </args>
      <args> x[12][4] y[12][4] z[184] </args>
      <args> x[12][5] y[12][5] z[185] </args>
      <args> x[12][6] y[12][6] z[186] </args>
      <args> x[12][7] y[12][7] z[187] </args>
      <args> x[12][8] y[12][8] z[188] </args>
      <args> x[12][9] y[12][9] z[189] </args>
      <args> x[12][10] y[12][10] z[190] </args>
      <args> x[12][11] y[12][11] z[191] </args>
      <args> x[12][12] y[12][12] z[192] </args>
      <args> x[12][13] y[12][13] z[193] </args>
      <args> x[12][14] y[12][14] z[194] </args>
      <args> x[13][0] y[13][0] z[195] </args>
      <args> x[13][1] y[13][1] z[196] </args>
      <args> x[13][2] y[13][2] z[197] </args>
      <args> x[13][3] y[13][3] z[198] </args>
      <args> x[13][4] y[13][4] z[199] </args>
      <args> x[13][5] y[13][5] z[200] </args>
      <args> x[13][6] y[13][6] z[201] </args>
      <args> x[13][7] y[13][7] z[202] </args>
      <args> x[13][8] y[13][8] z[203] </args>
      <args> x[13][9] y[13][9] z[204] </args>
      <args> x[13][10] y[13][10] z[205] </args>
      <args> x[13][11] y[13][11] z[206] </args>
      <args> x[13][12] y[13][12] z[207] </args>
      <args> x[13][13] y[13][13] z[208] </args>
      <args> x[13][14] y[13][14] z[209] </args>
      <args> x[14][0] y[14][0] z[210] </args>
      <args> x[14][1] y[14][1] z[211] </args>
      <args> x[14][2] y[14][2] z[212] </args>
      <args> x[14][3] y[14][3] z[213] </args>
      <args> x[14][4] y[14][4] z[214] </args>
      <args> x[14][5] y[14][5] z[215] </args>
      <args> x[14][6] y[14][6] z[216] </args>
      <args> x[14][7] y[14][7] z[217] </args>
      <args> x[14][8] y[14][8] z[218] </args>
      <args> x[14][9] y[14][9] z[219] </args>
      <args> x[14][10] y[14][10] z[220] </args>
      <args> x[14][11] y[14][11] z[221] </args>
      <args> x[14][12] y[14][12] z[222] </args>
      <args> x[14][13] y[14][13] z[223] </args>
      <args> x[14][14] y[14][14] z[224] </args>
    </group>
    <group class="symmetry-breaking">
      <intension> eq(%0,%1) </intension>
      <args> x[0][0] 0 </args>
      <args> x[0][1] 1 </args>
      <args> x[0][2] 2 </args>
      <args> x[0][3] 3 </args>
      <args> x[0][4] 4 </args>
      <args> x[0][5] 5 </args>
      <args> x[0][6] 6 </args>
      <args> x[0][7] 7 </args>
      <args> x[0][8] 8 </args>
      <args> x[0][9] 9 </args>
      <args> x[0][10] 10 </args>
      <args> x[0][11] 11 </args>
      <args> x[0][12] 12 </args>
      <args> x[0][13] 13 </args>
      <args> x[0][14] 14 </args>
      <args> y[0][0] 0 </args>
      <args> y[0][1] 1 </args>
      <args> y[0][2] 2 </args>
      <args> y[0][3] 3 </args>
      <args> y[0][4] 4 </args>
      <args> y[0][5] 5 </args>
      <args> y[0][6] 6 </args>
      <args> y[0][7] 7 </args>
      <args> y[0][8] 8 </args>
      <args> y[0][9] 9 </args>
      <args> y[0][10] 10 </args>
      <args> y[0][11] 11 </args>
      <args> y[0][12] 12 </args>
      <args> y[0][13] 13 </args>
      <args> y[0][14] 14 </args>
    </group>
  </constraints>
</instance>
