<instance format="XCSP3" type="CSP">
  <variables>
    <array id="x" note="x[i][j] is the index of the piece at row i and column j" size="[9][8]"> 0..71 </array>
    <array id="t" note="t[i][j] is the value at the top of the piece at row i and column j" size="[10][8]"> 0..11 </array>
    <array id="l" note="l[i][j] is the value at the left of the piece at row i and column j" size="[9][9]"> 0..11 </array>
  </variables>
  <constraints>
    <allDifferent note="all pieces must be placed (only once)"> x[][] </allDifferent>
    <group note="all pieces must be valid (i.e., must correspond to those given initially, possibly after applying some rotation)">
      <extension>
        <list> %... </list>
        <supports> (0,0,0,1,2)(0,0,1,2,0)(0,1,2,0,0)(0,2,0,0,1)(1,0,0,1,3)(1,0,1,3,0)(1,1,3,0,0)(1,3,0,0,1)(2,0,0,3,2)(2,0,3,2,0)(2,2,0,0,3)(2,3,2,0,0)(3,0,0,3,3)(3,0,3,3,0)(3,3,0,0,3)(3,3,3,0,0)(4,0,1,4,2)(4,1,4,2,0)(4,2,0,1,4)(4,4,2,0,1)(5,0,1,6,2)(5,1,6,2,0)(5,2,0,1,6)(5,6,2,0,1)(6,0,1,7,3)(6,1,7,3,0)(6,3,0,1,7)(6,7,3,0,1)(7,0,1,8,1)(7,1,0,1,8)(7,1,8,1,0)(7,8,1,0,1)(8,0,1,8,3)(8,1,8,3,0)(8,3,0,1,8)(8,8,3,0,1)(9,0,1,9,1)(9,1,0,1,9)(9,1,9,1,0)(9,9,1,0,1)(10,0,1,10,1)(10,1,0,1,10)(10,1,10,1,0)(10,10,1,0,1)(11,0,1,11,1)(11,1,0,1,11)(11,1,11,1,0)(11,11,1,0,1)(12,0,2,4,1)(12,1,0,2,4)(12,2,4,1,0)(12,4,1,0,2)(13,0,2,4,3)(13,2,4,3,0)(13,3,0,2,4)(13,4,3,0,2)(14,0,2,6,3)(14,2,6,3,0)(14,3,0,2,6)(14,6,3,0,2)(15,0,2,7,1)(15,1,0,2,7)(15,2,7,1,0)(15,7,1,0,2)(16,0,2,7,2)(16,2,0,2,7)(16,2,7,2,0)(16,7,2,0,2)(17,0,2,8,1)(17,1,0,2,8)(17,2,8,1,0)(17,8,1,0,2)(18,0,2,8,2)(18,2,0,2,8)(18,2,8,2,0)(18,8,2,0,2)(19,0,2,9,3)(19,2,9,3,0)(19,3,0,2,9)(19,9,3,0,2)(20,0,2,10,2)(20,2,0,2,10)(20,2,10,2,0)(20,10,2,0,2)(21,0,2,10,3)(21,2,10,3,0)(21,3,0,2,10)(21,10,3,0,2)(22,0,3,4,1)(22,1,0,3,4)(22,3,4,1,0)(22,4,1,0,3)(23,0,3,5,1)(23,1,0,3,5)(23,3,5,1,0)(23,5,1,0,3)(24,0,3,6,2)(24,2,0,3,6)(24,3,6,2,0)(24,6,2,0,3)(25,0,3,7,3)(25,3,0,3,7)(25,3,7,3,0)(25,7,3,0,3)(26,0,3,8,2)(26,2,0,3,8)(26,3,8,2,0)(26,8,2,0,3)(27,0,3,8,3)(27,3,0,3,8)(27,3,8,3,0)(27,8,3,0,3)(28,0,3,9,2)(28,2,0,3,9)(28,3,9,2,0)(28,9,2,0,3)(29,0,3,11,1)(29,1,0,3,11)(29,3,11,1,0)(29,11,1,0,3)(30,4,4,5,9)(30,4,5,9,4)(30,5,9,4,4)(30,9,4,4,5)(31,4,4,11,10)(31,4,11,10,4)(31,10,4,4,11)(31,11,10,4,4)(32,4,5,9,5)(32,5,4,5,9)(32,5,9,5,4)(32,9,5,4,5)(33,4,5,9,10)(33,5,9,10,4)(33,9,10,4,5)(33,10,4,5,9)(34,4,5,11,10)(34,5,11,10,4)(34,10,4,5,11)(34,11,10,4,5)(35,4,6,7,5)(35,5,4,6,7)(35,6,7,5,4)(35,7,5,4,6)(36,4,6,8,10)(36,6,8,10,4)(36,8,10,4,6)(36,10,4,6,8)(37,4,7,4,11)(37,4,11,4,7)(37,7,4,11,4)(37,11,4,7,4)(38,4,7,5,8)(38,5,8,4,7)(38,7,5,8,4)(38,8,4,7,5)(39,4,8,5,7)(39,5,7,4,8)(39,7,4,8,5)(39,8,5,7,4)(40,4,8,8,5)(40,5,4,8,8)(40,8,5,4,8)(40,8,8,5,4)(41,4,9,7,10)(41,7,10,4,9)(41,9,7,10,4)(41,10,4,9,7)(42,4,9,8,8)(42,8,4,9,8)(42,8,8,4,9)(42,9,8,8,4)(43,4,9,9,5)(43,5,4,9,9)(43,9,5,4,9)(43,9,9,5,4)(44,4,9,10,6)(44,6,4,9,10)(44,9,10,6,4)(44,10,6,4,9)(45,4,11,7,5)(45,5,4,11,7)(45,7,5,4,11)(45,11,7,5,4)(46,4,11,9,7)(46,7,4,11,9)(46,9,7,4,11)(46,11,9,7,4)(47,4,11,10,5)(47,5,4,11,10)(47,10,5,4,11)(47,11,10,5,4)(48,4,11,11,11)(48,11,4,11,11)(48,11,11,4,11)(48,11,11,11,4)(49,5,5,8,6)(49,5,8,6,5)(49,6,5,5,8)(49,8,6,5,5)(50,5,5,8,10)(50,5,8,10,5)(50,8,10,5,5)(50,10,5,5,8)(51,5,6,8,10)(51,6,8,10,5)(51,8,10,5,6)(51,10,5,6,8)(52,5,7,8,6)(52,6,5,7,8)(52,7,8,6,5)(52,8,6,5,7)(53,5,8,7,9)(53,7,9,5,8)(53,8,7,9,5)(53,9,5,8,7)(54,5,9,7,9)(54,7,9,5,9)(54,9,5,9,7)(54,9,7,9,5)(55,5,9,8,6)(55,6,5,9,8)(55,8,6,5,9)(55,9,8,6,5)(56,5,10,11,11)(56,10,11,11,5)(56,11,5,10,11)(56,11,11,5,10)(57,5,11,6,10)(57,6,10,5,11)(57,10,5,11,6)(57,11,6,10,5)(58,6,6,7,7)(58,6,7,7,6)(58,7,6,6,7)(58,7,7,6,6)(59,6,6,7,9)(59,6,7,9,6)(59,7,9,6,6)(59,9,6,6,7)(60,6,6,10,8)(60,6,10,8,6)(60,8,6,6,10)(60,10,8,6,6)(61,6,7,6,9)(61,6,9,6,7)(61,7,6,9,6)(61,9,6,7,6)(62,6,7,6,11)(62,6,11,6,7)(62,7,6,11,6)(62,11,6,7,6)(63,6,9,10,7)(63,7,6,9,10)(63,9,10,7,6)(63,10,7,6,9)(64,6,10,8,10)(64,8,10,6,10)(64,10,6,10,8)(64,10,8,10,6)(65,6,11,10,9)(65,9,6,11,10)(65,10,9,6,11)(65,11,10,9,6)(66,7,7,11,9)(66,7,11,9,7)(66,9,7,7,11)(66,11,9,7,7)(67,7,8,9,10)(67,8,9,10,7)(67,9,10,7,8)(67,10,7,8,9)(68,7,11,10,8)(68,8,7,11,10)(68,10,8,7,11)(68,11,10,8,7)(69,8,11,11,11)(69,11,8,11,11)(69,11,11,8,11)(69,11,11,11,8)(70,9,9,10,10)(70,9,10,10,9)(70,10,9,9,10)(70,10,10,9,9)(71,10,11,11,11)(71,11,10,11,11)(71,11,11,10,11)(71,11,11,11,10) </supports>
      </extension>
      <args> x[0][0] t[0][0] l[0][1] t[1][0] l[0][0] </args>
      <args> x[0][1] t[0][1] l[0][2] t[1][1] l[0][1] </args>
      <args> x[0][2] t[0][2] l[0][3] t[1][2] l[0][2] </args>
      <args> x[0][3] t[0][3] l[0][4] t[1][3] l[0][3] </args>
      <args> x[0][4] t[0][4] l[0][5] t[1][4] l[0][4] </args>
      <args> x[0][5] t[0][5] l[0][6] t[1][5] l[0][5] </args>
      <args> x[0][6] t[0][6] l[0][7] t[1][6] l[0][6] </args>
      <args> x[0][7] t[0][7] l[0][8] t[1][7] l[0][7] </args>
      <args> x[1][0] t[1][0] l[1][1] t[2][0] l[1][0] </args>
      <args> x[1][1] t[1][1] l[1][2] t[2][1] l[1][1] </args>
      <args> x[1][2] t[1][2] l[1][3] t[2][2] l[1][2] </args>
      <args> x[1][3] t[1][3] l[1][4] t[2][3] l[1][3] </args>
      <args> x[1][4] t[1][4] l[1][5] t[2][4] l[1][4] </args>
      <args> x[1][5] t[1][5] l[1][6] t[2][5] l[1][5] </args>
      <args> x[1][6] t[1][6] l[1][7] t[2][6] l[1][6] </args>
      <args> x[1][7] t[1][7] l[1][8] t[2][7] l[1][7] </args>
      <args> x[2][0] t[2][0] l[2][1] t[3][0] l[2][0] </args>
      <args> x[2][1] t[2][1] l[2][2] t[3][1] l[2][1] </args>
      <args> x[2][2] t[2][2] l[2][3] t[3][2] l[2][2] </args>
      <args> x[2][3] t[2][3] l[2][4] t[3][3] l[2][3] </args>
      <args> x[2][4] t[2][4] l[2][5] t[3][4] l[2][4] </args>
      <args> x[2][5] t[2][5] l[2][6] t[3][5] l[2][5] </args>
      <args> x[2][6] t[2][6] l[2][7] t[3][6] l[2][6] </args>
      <args> x[2][7] t[2][7] l[2][8] t[3][7] l[2][7] </args>
      <args> x[3][0] t[3][0] l[3][1] t[4][0] l[3][0] </args>
      <args> x[3][1] t[3][1] l[3][2] t[4][1] l[3][1] </args>
      <args> x[3][2] t[3][2] l[3][3] t[4][2] l[3][2] </args>
      <args> x[3][3] t[3][3] l[3][4] t[4][3] l[3][3] </args>
      <args> x[3][4] t[3][4] l[3][5] t[4][4] l[3][4] </args>
      <args> x[3][5] t[3][5] l[3][6] t[4][5] l[3][5] </args>
      <args> x[3][6] t[3][6] l[3][7] t[4][6] l[3][6] </args>
      <args> x[3][7] t[3][7] l[3][8] t[4][7] l[3][7] </args>
      <args> x[4][0] t[4][0] l[4][1] t[5][0] l[4][0] </args>
      <args> x[4][1] t[4][1] l[4][2] t[5][1] l[4][1] </args>
      <args> x[4][2] t[4][2] l[4][3] t[5][2] l[4][2] </args>
      <args> x[4][3] t[4][3] l[4][4] t[5][3] l[4][3] </args>
      <args> x[4][4] t[4][4] l[4][5] t[5][4] l[4][4] </args>
      <args> x[4][5] t[4][5] l[4][6] t[5][5] l[4][5] </args>
      <args> x[4][6] t[4][6] l[4][7] t[5][6] l[4][6] </args>
      <args> x[4][7] t[4][7] l[4][8] t[5][7] l[4][7] </args>
      <args> x[5][0] t[5][0] l[5][1] t[6][0] l[5][0] </args>
      <args> x[5][1] t[5][1] l[5][2] t[6][1] l[5][1] </args>
      <args> x[5][2] t[5][2] l[5][3] t[6][2] l[5][2] </args>
      <args> x[5][3] t[5][3] l[5][4] t[6][3] l[5][3] </args>
      <args> x[5][4] t[5][4] l[5][5] t[6][4] l[5][4] </args>
      <args> x[5][5] t[5][5] l[5][6] t[6][5] l[5][5] </args>
      <args> x[5][6] t[5][6] l[5][7] t[6][6] l[5][6] </args>
      <args> x[5][7] t[5][7] l[5][8] t[6][7] l[5][7] </args>
      <args> x[6][0] t[6][0] l[6][1] t[7][0] l[6][0] </args>
      <args> x[6][1] t[6][1] l[6][2] t[7][1] l[6][1] </args>
      <args> x[6][2] t[6][2] l[6][3] t[7][2] l[6][2] </args>
      <args> x[6][3] t[6][3] l[6][4] t[7][3] l[6][3] </args>
      <args> x[6][4] t[6][4] l[6][5] t[7][4] l[6][4] </args>
      <args> x[6][5] t[6][5] l[6][6] t[7][5] l[6][5] </args>
      <args> x[6][6] t[6][6] l[6][7] t[7][6] l[6][6] </args>
      <args> x[6][7] t[6][7] l[6][8] t[7][7] l[6][7] </args>
      <args> x[7][0] t[7][0] l[7][1] t[8][0] l[7][0] </args>
      <args> x[7][1] t[7][1] l[7][2] t[8][1] l[7][1] </args>
      <args> x[7][2] t[7][2] l[7][3] t[8][2] l[7][2] </args>
      <args> x[7][3] t[7][3] l[7][4] t[8][3] l[7][3] </args>
      <args> x[7][4] t[7][4] l[7][5] t[8][4] l[7][4] </args>
      <args> x[7][5] t[7][5] l[7][6] t[8][5] l[7][5] </args>
      <args> x[7][6] t[7][6] l[7][7] t[8][6] l[7][6] </args>
      <args> x[7][7] t[7][7] l[7][8] t[8][7] l[7][7] </args>
      <args> x[8][0] t[8][0] l[8][1] t[9][0] l[8][0] </args>
      <args> x[8][1] t[8][1] l[8][2] t[9][1] l[8][1] </args>
      <args> x[8][2] t[8][2] l[8][3] t[9][2] l[8][2] </args>
      <args> x[8][3] t[8][3] l[8][4] t[9][3] l[8][3] </args>
      <args> x[8][4] t[8][4] l[8][5] t[9][4] l[8][4] </args>
      <args> x[8][5] t[8][5] l[8][6] t[9][5] l[8][5] </args>
      <args> x[8][6] t[8][6] l[8][7] t[9][6] l[8][6] </args>
      <args> x[8][7] t[8][7] l[8][8] t[9][7] l[8][7] </args>
    </group>
    <group note="putting special value 0 on borders">
      <intension> eq(%0,0) </intension>
      <args> t[0][0] </args>
      <args> t[0][1] </args>
      <args> t[0][2] </args>
      <args> t[0][3] </args>
      <args> t[0][4] </args>
      <args> t[0][5] </args>
      <args> t[0][6] </args>
      <args> t[0][7] </args>
      <args> l[0][8] </args>
      <args> l[1][8] </args>
      <args> l[2][8] </args>
      <args> l[3][8] </args>
      <args> l[4][8] </args>
      <args> l[5][8] </args>
      <args> l[6][8] </args>
      <args> l[7][8] </args>
      <args> l[8][8] </args>
      <args> t[9][0] </args>
      <args> t[9][1] </args>
      <args> t[9][2] </args>
      <args> t[9][3] </args>
      <args> t[9][4] </args>
      <args> t[9][5] </args>
      <args> t[9][6] </args>
      <args> t[9][7] </args>
      <args> l[0][0] </args>
      <args> l[1][0] </args>
      <args> l[2][0] </args>
      <args> l[3][0] </args>
      <args> l[4][0] </args>
      <args> l[5][0] </args>
      <args> l[6][0] </args>
      <args> l[7][0] </args>
      <args> l[8][0] </args>
    </group>
  </constraints>
</instance>
