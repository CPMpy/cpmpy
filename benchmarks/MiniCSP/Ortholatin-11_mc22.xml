<instance format="XCSP3" type="CSP">
  <variables>
    <array id="x" note="x is the first Latin square" size="[11][11]"> 0..10 </array>
    <array id="y" note="y is the second Latin square" size="[11][11]"> 0..10 </array>
    <array id="z" note="z is the matrix used to control orthogonality" size="[121]"> 0..120 </array>
  </variables>
  <constraints>
    <group note="ensuring that x is a Latin square">
      <allDifferent> %... </allDifferent>
      <args> x[0][] </args>
      <args> x[1][] </args>
      <args> x[2][] </args>
      <args> x[3][] </args>
      <args> x[4][] </args>
      <args> x[5][] </args>
      <args> x[6][] </args>
      <args> x[7][] </args>
      <args> x[8][] </args>
      <args> x[9][] </args>
      <args> x[10][] </args>
      <args> x[][0] </args>
      <args> x[][1] </args>
      <args> x[][2] </args>
      <args> x[][3] </args>
      <args> x[][4] </args>
      <args> x[][5] </args>
      <args> x[][6] </args>
      <args> x[][7] </args>
      <args> x[][8] </args>
      <args> x[][9] </args>
      <args> x[][10] </args>
    </group>
    <group note="ensuring that y is a Latin square">
      <allDifferent> %... </allDifferent>
      <args> y[0][] </args>
      <args> y[1][] </args>
      <args> y[2][] </args>
      <args> y[3][] </args>
      <args> y[4][] </args>
      <args> y[5][] </args>
      <args> y[6][] </args>
      <args> y[7][] </args>
      <args> y[8][] </args>
      <args> y[9][] </args>
      <args> y[10][] </args>
      <args> y[][0] </args>
      <args> y[][1] </args>
      <args> y[][2] </args>
      <args> y[][3] </args>
      <args> y[][4] </args>
      <args> y[][5] </args>
      <args> y[][6] </args>
      <args> y[][7] </args>
      <args> y[][8] </args>
      <args> y[][9] </args>
      <args> y[][10] </args>
    </group>
    <group class="diagonals" note="ensuring that values on diagonals are different">
      <allDifferent> %... </allDifferent>
      <args> x[0][0] x[1][1] x[2][2] x[3][3] x[4][4] x[5][5] x[6][6] x[7][7] x[8][8] x[9][9] x[10][10] </args>
      <args> x[0][10] x[1][9] x[2][8] x[3][7] x[4][6] x[5][5] x[6][4] x[7][3] x[8][2] x[9][1] x[10][0] </args>
      <args> y[0][0] y[1][1] y[2][2] y[3][3] y[4][4] y[5][5] y[6][6] y[7][7] y[8][8] y[9][9] y[10][10] </args>
      <args> y[0][10] y[1][9] y[2][8] y[3][7] y[4][6] y[5][5] y[6][4] y[7][3] y[8][2] y[9][1] y[10][0] </args>
    </group>
    <allDifferent note="ensuring orthogonality of x and y through z"> z[] </allDifferent>
    <group note="computing z from x and y">
      <extension>
        <list> %0 %1 %2 </list>
        <supports> (0,0,0)(0,1,1)(0,2,2)(0,3,3)(0,4,4)(0,5,5)(0,6,6)(0,7,7)(0,8,8)(0,9,9)(0,10,10)(1,0,11)(1,1,12)(1,2,13)(1,3,14)(1,4,15)(1,5,16)(1,6,17)(1,7,18)(1,8,19)(1,9,20)(1,10,21)(2,0,22)(2,1,23)(2,2,24)(2,3,25)(2,4,26)(2,5,27)(2,6,28)(2,7,29)(2,8,30)(2,9,31)(2,10,32)(3,0,33)(3,1,34)(3,2,35)(3,3,36)(3,4,37)(3,5,38)(3,6,39)(3,7,40)(3,8,41)(3,9,42)(3,10,43)(4,0,44)(4,1,45)(4,2,46)(4,3,47)(4,4,48)(4,5,49)(4,6,50)(4,7,51)(4,8,52)(4,9,53)(4,10,54)(5,0,55)(5,1,56)(5,2,57)(5,3,58)(5,4,59)(5,5,60)(5,6,61)(5,7,62)(5,8,63)(5,9,64)(5,10,65)(6,0,66)(6,1,67)(6,2,68)(6,3,69)(6,4,70)(6,5,71)(6,6,72)(6,7,73)(6,8,74)(6,9,75)(6,10,76)(7,0,77)(7,1,78)(7,2,79)(7,3,80)(7,4,81)(7,5,82)(7,6,83)(7,7,84)(7,8,85)(7,9,86)(7,10,87)(8,0,88)(8,1,89)(8,2,90)(8,3,91)(8,4,92)(8,5,93)(8,6,94)(8,7,95)(8,8,96)(8,9,97)(8,10,98)(9,0,99)(9,1,100)(9,2,101)(9,3,102)(9,4,103)(9,5,104)(9,6,105)(9,7,106)(9,8,107)(9,9,108)(9,10,109)(10,0,110)(10,1,111)(10,2,112)(10,3,113)(10,4,114)(10,5,115)(10,6,116)(10,7,117)(10,8,118)(10,9,119)(10,10,120) </supports>
      </extension>
      <args> x[0][0] y[0][0] z[0] </args>
      <args> x[0][1] y[0][1] z[1] </args>
      <args> x[0][2] y[0][2] z[2] </args>
      <args> x[0][3] y[0][3] z[3] </args>
      <args> x[0][4] y[0][4] z[4] </args>
      <args> x[0][5] y[0][5] z[5] </args>
      <args> x[0][6] y[0][6] z[6] </args>
      <args> x[0][7] y[0][7] z[7] </args>
      <args> x[0][8] y[0][8] z[8] </args>
      <args> x[0][9] y[0][9] z[9] </args>
      <args> x[0][10] y[0][10] z[10] </args>
      <args> x[1][0] y[1][0] z[11] </args>
      <args> x[1][1] y[1][1] z[12] </args>
      <args> x[1][2] y[1][2] z[13] </args>
      <args> x[1][3] y[1][3] z[14] </args>
      <args> x[1][4] y[1][4] z[15] </args>
      <args> x[1][5] y[1][5] z[16] </args>
      <args> x[1][6] y[1][6] z[17] </args>
      <args> x[1][7] y[1][7] z[18] </args>
      <args> x[1][8] y[1][8] z[19] </args>
      <args> x[1][9] y[1][9] z[20] </args>
      <args> x[1][10] y[1][10] z[21] </args>
      <args> x[2][0] y[2][0] z[22] </args>
      <args> x[2][1] y[2][1] z[23] </args>
      <args> x[2][2] y[2][2] z[24] </args>
      <args> x[2][3] y[2][3] z[25] </args>
      <args> x[2][4] y[2][4] z[26] </args>
      <args> x[2][5] y[2][5] z[27] </args>
      <args> x[2][6] y[2][6] z[28] </args>
      <args> x[2][7] y[2][7] z[29] </args>
      <args> x[2][8] y[2][8] z[30] </args>
      <args> x[2][9] y[2][9] z[31] </args>
      <args> x[2][10] y[2][10] z[32] </args>
      <args> x[3][0] y[3][0] z[33] </args>
      <args> x[3][1] y[3][1] z[34] </args>
      <args> x[3][2] y[3][2] z[35] </args>
      <args> x[3][3] y[3][3] z[36] </args>
      <args> x[3][4] y[3][4] z[37] </args>
      <args> x[3][5] y[3][5] z[38] </args>
      <args> x[3][6] y[3][6] z[39] </args>
      <args> x[3][7] y[3][7] z[40] </args>
      <args> x[3][8] y[3][8] z[41] </args>
      <args> x[3][9] y[3][9] z[42] </args>
      <args> x[3][10] y[3][10] z[43] </args>
      <args> x[4][0] y[4][0] z[44] </args>
      <args> x[4][1] y[4][1] z[45] </args>
      <args> x[4][2] y[4][2] z[46] </args>
      <args> x[4][3] y[4][3] z[47] </args>
      <args> x[4][4] y[4][4] z[48] </args>
      <args> x[4][5] y[4][5] z[49] </args>
      <args> x[4][6] y[4][6] z[50] </args>
      <args> x[4][7] y[4][7] z[51] </args>
      <args> x[4][8] y[4][8] z[52] </args>
      <args> x[4][9] y[4][9] z[53] </args>
      <args> x[4][10] y[4][10] z[54] </args>
      <args> x[5][0] y[5][0] z[55] </args>
      <args> x[5][1] y[5][1] z[56] </args>
      <args> x[5][2] y[5][2] z[57] </args>
      <args> x[5][3] y[5][3] z[58] </args>
      <args> x[5][4] y[5][4] z[59] </args>
      <args> x[5][5] y[5][5] z[60] </args>
      <args> x[5][6] y[5][6] z[61] </args>
      <args> x[5][7] y[5][7] z[62] </args>
      <args> x[5][8] y[5][8] z[63] </args>
      <args> x[5][9] y[5][9] z[64] </args>
      <args> x[5][10] y[5][10] z[65] </args>
      <args> x[6][0] y[6][0] z[66] </args>
      <args> x[6][1] y[6][1] z[67] </args>
      <args> x[6][2] y[6][2] z[68] </args>
      <args> x[6][3] y[6][3] z[69] </args>
      <args> x[6][4] y[6][4] z[70] </args>
      <args> x[6][5] y[6][5] z[71] </args>
      <args> x[6][6] y[6][6] z[72] </args>
      <args> x[6][7] y[6][7] z[73] </args>
      <args> x[6][8] y[6][8] z[74] </args>
      <args> x[6][9] y[6][9] z[75] </args>
      <args> x[6][10] y[6][10] z[76] </args>
      <args> x[7][0] y[7][0] z[77] </args>
      <args> x[7][1] y[7][1] z[78] </args>
      <args> x[7][2] y[7][2] z[79] </args>
      <args> x[7][3] y[7][3] z[80] </args>
      <args> x[7][4] y[7][4] z[81] </args>
      <args> x[7][5] y[7][5] z[82] </args>
      <args> x[7][6] y[7][6] z[83] </args>
      <args> x[7][7] y[7][7] z[84] </args>
      <args> x[7][8] y[7][8] z[85] </args>
      <args> x[7][9] y[7][9] z[86] </args>
      <args> x[7][10] y[7][10] z[87] </args>
      <args> x[8][0] y[8][0] z[88] </args>
      <args> x[8][1] y[8][1] z[89] </args>
      <args> x[8][2] y[8][2] z[90] </args>
      <args> x[8][3] y[8][3] z[91] </args>
      <args> x[8][4] y[8][4] z[92] </args>
      <args> x[8][5] y[8][5] z[93] </args>
      <args> x[8][6] y[8][6] z[94] </args>
      <args> x[8][7] y[8][7] z[95] </args>
      <args> x[8][8] y[8][8] z[96] </args>
      <args> x[8][9] y[8][9] z[97] </args>
      <args> x[8][10] y[8][10] z[98] </args>
      <args> x[9][0] y[9][0] z[99] </args>
      <args> x[9][1] y[9][1] z[100] </args>
      <args> x[9][2] y[9][2] z[101] </args>
      <args> x[9][3] y[9][3] z[102] </args>
      <args> x[9][4] y[9][4] z[103] </args>
      <args> x[9][5] y[9][5] z[104] </args>
      <args> x[9][6] y[9][6] z[105] </args>
      <args> x[9][7] y[9][7] z[106] </args>
      <args> x[9][8] y[9][8] z[107] </args>
      <args> x[9][9] y[9][9] z[108] </args>
      <args> x[9][10] y[9][10] z[109] </args>
      <args> x[10][0] y[10][0] z[110] </args>
      <args> x[10][1] y[10][1] z[111] </args>
      <args> x[10][2] y[10][2] z[112] </args>
      <args> x[10][3] y[10][3] z[113] </args>
      <args> x[10][4] y[10][4] z[114] </args>
      <args> x[10][5] y[10][5] z[115] </args>
      <args> x[10][6] y[10][6] z[116] </args>
      <args> x[10][7] y[10][7] z[117] </args>
      <args> x[10][8] y[10][8] z[118] </args>
      <args> x[10][9] y[10][9] z[119] </args>
      <args> x[10][10] y[10][10] z[120] </args>
    </group>
    <group class="symmetry-breaking">
      <intension> eq(%0,%1) </intension>
      <args> x[0][0] 0 </args>
      <args> x[0][1] 1 </args>
      <args> x[0][2] 2 </args>
      <args> x[0][3] 3 </args>
      <args> x[0][4] 4 </args>
      <args> x[0][5] 5 </args>
      <args> x[0][6] 6 </args>
      <args> x[0][7] 7 </args>
      <args> x[0][8] 8 </args>
      <args> x[0][9] 9 </args>
      <args> x[0][10] 10 </args>
      <args> y[0][0] 0 </args>
      <args> y[0][1] 1 </args>
      <args> y[0][2] 2 </args>
      <args> y[0][3] 3 </args>
      <args> y[0][4] 4 </args>
      <args> y[0][5] 5 </args>
      <args> y[0][6] 6 </args>
      <args> y[0][7] 7 </args>
      <args> y[0][8] 8 </args>
      <args> y[0][9] 9 </args>
      <args> y[0][10] 10 </args>
    </group>
  </constraints>
</instance>
